# Nom de l'app
spring.application.name=workmatch-backend

# Connexion MongoDB distante (remplace par ta vraie URI MongoDB Render ou Atlas)
spring.data.mongodb.uri=${MONGODB_URI}
spring.data.mongodb.database=workmatchdb

# Devtools désactivés en prod (optionnel)
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# CORS - autoriser le frontend Render
cors.allowed.origins=${CORS_ALLOWED_ORIGINS:*}
cors.allowed.headers=*
cors.allowed.methods=GET,POST,PUT,DELETE,OPTIONS

# Port et adresse
server.port=8080
server.address=0.0.0.0

# Adzuna API
ADZUNA_APP_ID=${ADZUNA_APP_ID}
ADZUNA_APP_KEY=${ADZUNA_APP_KEY}

# Servlet path
spring.mvc.servlet.path=/
logging.level.org.springframework.web.socket=DEBUG

# OAuth (Indeed)
spring.security.oauth2.client.registration.indeed.client-id=${INDEED_CLIENT_ID}
spring.security.oauth2.client.registration.indeed.client-secret=${INDEED_CLIENT_SECRET}
spring.security.oauth2.client.registration.indeed.redirect-uri=${INDEED_REDIRECT_URI:http://localhost:8080/callback}
spring.security.oauth2.client.registration.indeed.scope=read
spring.security.oauth2.client.registration.indeed.authorization-grant-type=authorization_code

spring.security.oauth2.client.provider.indeed.authorization-uri=https://secure.indeed.com/oauth/authorize
spring.security.oauth2.client.provider.indeed.token-uri=https://secure.indeed.com/oauth/token
spring.security.oauth2.client.provider.indeed.user-info-uri=https://secure.indeed.com/oauth/userinfo

# Permet de redéfinir certains beans
spring.main.allow-bean-definition-overriding=true
